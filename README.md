# Automatic C++ Project Creation in VSCode (including Google Test & Google Benchmark libraries)

This is a small project that automatically creates a C++ project in Visual Studio Code for Windows, including the Google Test & Benchmark libraries. 

## Usage

1. From a terminal in Windows (CMD or Git Bash) clone this repository to a temporary folder. 
2. Execute the "vscode_cpp_generator.bat" file: 
```
$> vscode_cpp_generator.bat
```
5. The BAT file is going to request the name of the project:
```
$> Enter the name of the new project:
```
6. Enter the project's name and press enter.
7. Now, the BAT file is going to request the path where the project is going to be created:
```
$> Enter the path where the new project will be created:
```
8. Enter the path and press enter.
9. The new project will be created with the defined name and path location.

## What is the vscode_cpp_generator.bat file Doing under the Hood?

The "vscode_cpp_generator.bat" file is performing the following actions:

1. Creates the project's folder in the defined path.
2. Copies all the files from this repository (that includes the basic setup to create a C++ project) to the new defined path. 
3. Replaces the hardcoded names in some of the files from this repository to the ones defined by you (i.e., the name of the project).  

## What is the Layout of the Project Created?

The following is the structure of the project created (in parenthesis the explanation of each file/folder):

```
Project's Name (Defined by you)
|
├── .vscode (Required by VSCode to define how the project will be built and run).
|   └── launch.json (Defines the different launching configurations of the project: to run the Debug version, the Release one, the Tests, the Benchmarks, etc.).
|   └── tasks.json  (Defines how CMake will build the project). 
|
├── build (an initially empty folder where the files/folders generated by CMake will be stored).
|
├── src (the main folder for the source code).
|   ├── tests (the tests folder including the unit and benchmark tests).
|   |   ├── benchmarks
|   |   |   ├── benchmark_test_1.cpp (an example of a benchmark test).
|   |   |   ├── benchmark_test_2.cpp (an example of a benchmark test). 
|   |   |   └── main.cpp (the required main point entry, including the call to the BENCHMARK_MAIN() function).
|   |   |
|   |   └── tests
|   |       ├── tests.cpp (an example of some unit tests).
|   |       └── main.cpp (the required main point entry for the tests).
|   |   
|   └── main.cpp (the source code's main point entry).
|
└── .clang-format (an example of the clang format that I use in VSCode. To be used you need to install the Clang-Format plugin in VSCode). 
└── CMakeLists.txt (the main CMake configuration file of this project). 
```

## After the New Project has been Created, then What?

1. Open VSCode.
2. Select **File -> Open Folder...**
3. Select the project's folder. 
4. VSCode will open a central menu to select the Kit (Compiler) to be used for this project. Choose the one you use. If you miss this step, press **F1** and then write **"CMake: Select a Kit"** in the central menu that appears, to open this menu again.
5. Select the Build option. To do this, press **F1** and then write **"CMake: Select a Variant"** in the central menu that appears. From the drop down list, choose the one you want: "Debug", "Release", etc. 

> **Note:** For Benchmark tests is better to run the code in Release mode.

6. Build the project by pressing **F7**.
7. Select the configuration to be Run by pressing **Ctrl + Alt + F5**. 

> **Note:** The **Ctrl + Alt + F5** shortcut is not defined by default in VSCode. To configure it, search for the command: **Debug: Select and Start Debugging** in VSCode's Keyboard Shortcuts configuration, and setup the shortcut: **Ctrl + Alt + F5**. 

8. Run the code by pressing **F5**. 

## Additional Notes

### Building vs Running

If you build the project in *Debug* mode but you try to run the *Release* executable (i.e., by selecting the *Release* option when pressing the **Ctrl + Alt + F5** shortcut), you are going to encounter an issue because you are trying to run an executable that has not been built. If you wish to build another configuration (for example you are in *Release* mode and want to build the *Debug* option), you need to start at **step 5** from the previous section and select the corresponding build configuration.

### When adding new files, please consider:

#### If it's a Unit Test

That for example has been created inside the file **unit_tests_module_1.cpp**, include the corresponding file in the path: 

```
Project_name/src/tests/tests/
```

Then update the CMake file at the test's sources section:

```
set(TEST_SOURCES    
    src/tests/tests/tests.cpp
    src/tests/tests/main.cpp
    src/tests/tests/unit_tests_module_1.cpp      # This is the new line
)
```
Save the file and then build the project. 

#### If it's a Benchmark Test

That for example has been created inside the file **benchmark_tests_module_1.cpp**, include the corresponding file in the path: 

```
Project_name/src/tests/benchmarks/
```

Then update the CMake file at the Benchmark's sources section:

```
set(BENCHMARK_SOURCES    
    src/tests/benchmarks/benchmark_test_1.cpp
    src/tests/benchmarks/benchmark_test_2.cpp
    src/tests/benchmarks/main.cpp
    src/tests/benchmarks/benchmark_tests_module_1.cpp       # This is the new line
)
```
Save the file and then build the project. 

#### If it's a Source Code File

If the source code file is for example a class called **Shape**, and it has the corresponding \*.cpp and \*.h files, add them in the path: 

```
Project_name/src/
```

Then update the CMake file at the Project's sources section:

```
set(PROJECT_SOURCES
    src/main.cpp
    src/shape.h           # This is the new line
    src/shape.cpp         # This is the new line
)
```
**Note:** You can, of course, create a new folder structure inside the **src** folder, so you don't end up with a huge list of individual \*.h & \*.cpp files.

Save the file and then build the project. 
